"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_ref-selector_RefSelector_tsx"],{78212:(e,t,r)=>{r.d(t,{$_:()=>a.$_,$g:()=>a.$g,A4:()=>a.A4,AT:()=>a.AT,BK:()=>a.BK,By:()=>a.By,C2:()=>a.C2,C9:()=>a.C9,CY:()=>a.CY,Cv:()=>a.Cv,DN:()=>a.DN,DW:()=>a.DW,DX:()=>a.DX,ER:()=>a.ER,FL:()=>a.FL,Fe:()=>a.Fe,GX:()=>a.GX,Gr:()=>n.Gr,H7:()=>a.H7,HK:()=>a.HK,HY:()=>a.HY,IU:()=>a.IU,IY:()=>a.IY,J9:()=>a.J9,Jb:()=>a.Jb,Jw:()=>a.Jw,KL:()=>a.KL,Kl:()=>a.Kl,Lv:()=>a.Lv,Mf:()=>n.Mf,N2:()=>a.N2,NS:()=>a.NS,Ns:()=>a.Ns,OI:()=>a.OI,QD:()=>a.QD,QY:()=>a.QY,Q_:()=>a.Q_,Qi:()=>a.Qi,S$:()=>a.S$,SV:()=>a.SV,SY:()=>a.SY,U:()=>a.U,UY:()=>a.UY,Uc:()=>a.Uc,V6:()=>a.V6,Vr:()=>a.Vr,WG:()=>a.WG,WO:()=>a.WO,Z0:()=>a.Z0,ZD:()=>a.ZD,ZH:()=>a.ZH,ZI:()=>a.ZI,Zv:()=>a.Zv,aP:()=>a.aP,a_:()=>a.a_,aw:()=>a.aw,cN:()=>a.cN,cb:()=>a.cb,d6:()=>a.d6,dQ:()=>a.dQ,db:()=>a.db,em:()=>a.em,eq:()=>a.eq,f5:()=>a.f5,gX:()=>a.gX,gx:()=>a.gx,iT:()=>a.iT,j6:()=>a.j6,j9:()=>n.j9,jP:()=>a.jP,jS:()=>a.jS,lr:()=>a.lr,mE:()=>a.mE,mY:()=>a.mY,oA:()=>a.oA,p1:()=>a.p1,pt:()=>a.pt,sA:()=>a.sA,t4:()=>a.t4,ti:()=>a.ti,u_:()=>a.u_,v2:()=>a.v2,v5:()=>a.v5,w2:()=>a.w2,wE:()=>a.wE,wu:()=>a.wu,wy:()=>a.wy,xR:()=>a.xR,xv:()=>a.xv,zP:()=>a.zP,zf:()=>a.zf,zh:()=>a.zh});var n=r(86721),a=r(10866)},10866:(e,t,r)=>{r.d(t,{$_:()=>M,$g:()=>eF,A4:()=>ev,AT:()=>y,BK:()=>eb,By:()=>ei,C2:()=>Y,C9:()=>R,CY:()=>L,Cv:()=>H,DN:()=>eD,DW:()=>c,DX:()=>q,ER:()=>Q,FL:()=>p,Fe:()=>eT,GX:()=>a,H7:()=>E,HK:()=>eo,HY:()=>S,IU:()=>ew,IY:()=>I,J9:()=>B,Jb:()=>eC,Jw:()=>eN,KL:()=>K,Kl:()=>ep,Lv:()=>X,N2:()=>es,NS:()=>V,Ns:()=>eL,OI:()=>A,QD:()=>U,QY:()=>P,Q_:()=>eS,Qi:()=>Z,S$:()=>D,SV:()=>z,SY:()=>eg,U:()=>ec,UY:()=>en,Uc:()=>eR,V6:()=>j,Vr:()=>eu,WG:()=>o,WO:()=>eE,Z0:()=>el,ZD:()=>x,ZH:()=>m,ZI:()=>e$,Zv:()=>f,aP:()=>ek,a_:()=>er,aw:()=>ed,cN:()=>ej,cb:()=>e_,d6:()=>g,dQ:()=>b,db:()=>et,em:()=>ea,eq:()=>ey,f5:()=>eZ,gX:()=>ex,gx:()=>s,iT:()=>d,j6:()=>G,jP:()=>O,jS:()=>$,lr:()=>l,mE:()=>W,mY:()=>i,oA:()=>ef,p1:()=>eh,pt:()=>eI,sA:()=>k,t4:()=>_,ti:()=>v,u_:()=>em,v2:()=>eO,v5:()=>w,w2:()=>F,wE:()=>ez,wu:()=>J,wy:()=>C,xR:()=>ee,xv:()=>T,zP:()=>h,zf:()=>u,zh:()=>N});var n=r(86721);let a=({searchTerm:e})=>`/search?q=${(0,n.j9)(`${e}`)}&type=code`,i=({owner:e,repo:t,searchTerm:r})=>`/search?q=${(0,n.j9)(`repo:${e}/${t} ${r}`)}&type=code`,s=()=>"/search",o=()=>"/search/advanced",c=()=>"/search/stats",l=({owner:e})=>`/${(0,n.j9)(e)}`,u=({owner:e})=>`/${(0,n.j9)(e)}.png`,h=({owner:e})=>`/users/${(0,n.j9)(e)}/hovercard`,d=({owner:e,team:t})=>`/orgs/${(0,n.j9)(e)}/teams/${(0,n.j9)(t)}/hovercard`,f=({owner:e})=>`/orgs/${(0,n.j9)(e)}/hovercard`,m=({userId:e})=>`/hovercards?user_id=${e}`;function p({owner:e,repo:t,action:r}){return r?`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/${r}`:`/${(0,n.j9)(e)}/${(0,n.j9)(t)}`}let j=({owner:e,repo:t})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/stats`,g=({owner:e,repo:t})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/graphs/participation`,$=({owner:e,repo:t,refName:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/branches/${(0,n.j9)(r)}/rename_ref_check`,x=({owner:e,repo:t,branchName:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/branches/rename_form/${(0,n.j9)(r)}`,y=({owner:e,repo:t,refName:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/branches/${(0,n.j9)(r)}`,b=({owner:e,repo:t})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/branches/check_tag_name_exists`,w=({owner:e,repo:t,branch:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/tree/${(0,n.j9)(r)}`,S=({owner:e,repo:t,tag:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/releases/tag/${(0,n.j9)(r)}`,C=({owner:e,repo:t})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/invitations`,L=({owner:e,repo:t,branchName:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/settings/branch_protection_rules/new?branch_name=${(0,n.j9)(r)}`,R=({owner:e,repo:t,commitish:r,filePath:a,lineNumber:i,plain:s})=>{let o=s?`?plain=${s}`:"",c=i?`#L${i}`:"";return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/blob/${(0,n.j9)(r)}/${(0,n.j9)(a)}${o}${c}`},v=({owner:e,repo:t,commitish:r,filePath:a,lineNumber:i})=>{let s=i?`#L${i}`:"";return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/edit/${(0,n.j9)(r)}/${(0,n.j9)(a)}${s}`},_=({owner:e,repo:t,commitish:r,filePath:a,lineNumber:i})=>{let s=i?`#L${i}`:"";return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/blame/${(0,n.j9)(r)}/${(0,n.j9)(a)}${s}`};function T({login:e}){return`/users/${(0,n.j9)(e)}/dismiss_repository_notice`}function N({repo:e,commitish:t,path:r}){let a=["",e.ownerLogin,e.name,"deferred-metadata",t,r];return a.map(n.j9).join("/")}function I(e){return`/${(0,n.j9)(e.ownerLogin)}/${(0,n.j9)(e.name)}`}function k(e){return`/${(0,n.j9)(e.ownerLogin)}/${(0,n.j9)(e.name)}?files=1`}function Z({repo:e,commitish:t,action:r,path:a}){let i=["",e.ownerLogin,e.name,r,t];return a&&"/"!==a&&i.push(a),i.map(n.j9).join("/")}let E=({owner:e,repo:t})=>`/${e}/${t}/sidepanel-metadata`,O=({owner:e,repo:t,commitish:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/commit/${r}`,F=({owner:e,repo:t,ref:r,path:a})=>{let i=`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/commits`;return r?a?`${i}/${(0,n.j9)(r)}/${(0,n.j9)(function(e){return e.startsWith("/")?e.slice(1):e}(a))}`:`${i}/${(0,n.j9)(r)}`:i};function z({repo:e,branch:t,path:r,author:a}){let i=[e.ownerLogin,e.name,"commits",t,r].map(n.j9).join("/");return`/${i}?author=${(0,n.j9)(a)}`}function D(e,t){return`/${e.ownerLogin}/${e.name}/commit/${t}/status-details`}function A({repo:e,author:t}){let r=[e.ownerLogin,e.name];return`/${r.map(n.j9).join("/")}/commits?author=${(0,n.j9)(t)}`}let P=({owner:e,repo:t,commitish:r})=>`/${(0,n.j9)(`${e}/${t}/commit/${r}/hovercard`)}`,K=({topicName:e})=>`/topics/${e}`,W=({categoryName:e})=>`/marketplace/category/${e.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()}`,B=({slug:e})=>`/marketplace/actions/${(0,n.j9)(e)}`,H=({owner:e,repo:t,commitish:r,filePath:n})=>`/${e}/${t}/codeowners-validity/${r}/${n}`;function Y(e){return e.split("/").slice(0,-1).join("/")}function U({repo:e,baseUrl:t="",branch:r,filter:a,pagination:i,perPage:s=30}){let o=[e.ownerLogin,e.name,"activity"],c=[];return r&&c.push(`ref=${(0,n.j9)(r)}`),a&&(a.activityType&&"all"!==a.activityType.toLocaleLowerCase()&&c.push(`activity_type=${(0,n.j9)(a.activityType)}`),a.actor?.login&&c.push(`actor=${(0,n.j9)(a.actor.login)}`),a.timePeriod&&"all"!==a.timePeriod.toLocaleLowerCase()&&c.push(`time_period=${(0,n.j9)(a.timePeriod)}`),a.sort&&"desc"!==a.sort.toLocaleLowerCase()&&c.push(`sort=${(0,n.j9)(a.sort)}`)),i&&(i.after?c.push(`after=${(0,n.j9)(i.after)}`):i.before&&c.push(`before=${i.before}`)),s&&30!==s&&c.push(`per_page=${s}`),`${t}/${o.map(n.j9).join("/")}${c.length>0?`?${c.join("&")}`:""}`}function Q({repo:e,baseUrl:t="",branch:r,timePeriod:a}){let i=[e.ownerLogin,e.name,"activity","actors"],s=[];return r&&s.push(`ref=${(0,n.j9)(r)}`),a&&s.push(`time_period=${(0,n.j9)(a)}`),`${t}/${i.map(n.j9).join("/")}${s.length>0?`?${s.join("&")}`:""}`}function V(){return"insights/actors"}function G({repo:e,base:t,head:r}){let a=[e.ownerLogin,e.name,"compare"].map(n.j9).join("/"),i=t?`${(0,n.j9)(t)}...${(0,n.j9)(r)}`:(0,n.j9)(r);return`/${a}/${i}`}function M({repo:e,base:t,head:r}){let a=[e.ownerLogin,e.name,"branches","pre_mergeable"].map(n.j9).join("/"),i=`${(0,n.j9)(t)}...${(0,n.j9)(r)}`;return`/${a}/${i}`}function X(e,t){return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/pulls`}function q(e,t){return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/stargazers`}function J({repo:e,refName:t}){return`/${[e.ownerLogin,e.name,"pull","new",t].map(n.j9).join("/")}`}function ee({repo:e,number:t}){return`/${[e.ownerLogin,e.name,"pull",t.toString()].map(n.j9).join("/")}`}function et({repo:e,refName:t,discard:r}){return`/${[e.ownerLogin,e.name,"branches","fetch_and_merge",t].map(n.j9).join("/")}${r?"?discard_changes=true":""}`}function er({repo:e,commitOid:t,includeDirectories:r=!1}){let a=`/${[e.ownerLogin,e.name,"tree-list",t].map(n.j9).join("/")}`;return r?`${a}?include_directories=${r}`:a}function en({repo:e,type:t,q:r,language:a,row:i,column:s,ref:o,path:c,codeNavContext:l}){let u=[e.ownerLogin,e.name].map(n.j9).join("/");return`/${u}/find-react-${t}?q=${encodeURIComponent(r)}&language=${encodeURIComponent(a)}&row=${i}&col=${s}&ref=${o}&blob_path=${encodeURIComponent(c)}&code_nav_context=${encodeURIComponent(l)}`}function ea(e,t){return`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/issues`}let ei=({owner:e,repo:t,issueNumber:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/issues/${r}`,es=({owner:e,repo:t,issueNumber:r,contentId:a})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/issues/${r}#issuecomment-${a}`,eo=({owner:e,repo:t,issueNumber:r,contentId:a})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/issues/${r}#issue-${a}`,ec=({owner:e,repo:t,issueNumber:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/issues/${r}/hovercard`,el=({owner:e,repo:t,pullRequestNumber:r})=>`/${(0,n.j9)(e)}/${(0,n.j9)(t)}/pull/${r}/hovercard`;function eu(e,t,r){let n=e.split("/",4).join("/").length,a=e.substring(n);return a===`/${t}`?"":a.startsWith(`/${t}/`)?a.substring(t.length+2):r}let eh=e=>`/${(0,n.j9)(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,ed=()=>"/repositories/check-name",ef=()=>"/repositories",em=e=>`/${(0,n.j9)(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,ep=e=>`/${(0,n.j9)(`${e.ownerLogin}/${e.name}`)}/settings/abort_transfer`,ej=()=>"/new/import",eg=()=>"/repositories/new/templates",e$=()=>"/repositories/forms/owner_items",ex=e=>`/repositories/forms/fork_owner_items?repo_id=${e}`,ey=e=>`/repositories/forms/owner_detail?owner=${(0,n.j9)(e)}`,eb=e=>`/${(0,n.j9)(e.ownerLogin)}/${(0,n.j9)(e.name)}/graphs/contributors`,ew=e=>`/${(0,n.j9)(e.ownerLogin)}/${(0,n.j9)(e.name)}/settings/access`;function eS({org:e,propertyName:t}){let r=`/organizations/${(0,n.j9)(e)}/settings/custom-properties`;return t?`${r}/${(0,n.j9)(t)}`:r}function eC({org:e,propertyName:t}){let r=`/organizations/${(0,n.j9)(e)}/settings/custom-property`;return t?`${r}/${(0,n.j9)(t)}`:r}function eL({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/custom-properties/values`}function eR({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/custom-properties/list-repos-values`}function ev({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/custom-properties`}function e_({org:e,propertyName:t}){return["","organizations",(0,n.j9)(e),"settings","custom-properties-usage",(0,n.j9)(t)].join("/")}function eT({owner:e,repo:t}){return`/${(0,n.j9)(`${e}/${t}`)}/fork`}function eN({owner:e,repo:t}){return`/${(0,n.j9)(`${e}/${t}`)}/forks`}function eI({org:e}){return e?`/organizations/${(0,n.j9)(e)}/repositories/new`:"/new"}function ek({org:e}){return`/orgs/${(0,n.j9)(e)}/repos_list`}function eZ({topic:e,org:t}){return`/search?q=topic%3A${(0,n.j9)(e)}+org%3A${(0,n.j9)(t)}&type=Repositories`}function eE({repo:e,pagination:t={before:null,after:null},perPage:r=30}){let a=[e.ownerLogin,e.name,"attestations"],i=[];return t&&(t.after?i.push(`after=${(0,n.j9)(t.after)}`):t.before&&i.push(`before=${(0,n.j9)(t.before)}`)),r&&30!==r&&i.push(`per_page=${r}`),`/${a.map(n.j9).join("/")}${i.length>0?`?${i.join("&")}`:""}`}function eO({repo:e}){return`/${[e.ownerLogin,e.name,"branches"].map(n.j9).join("/")}`}function eF({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/security_products`}function ez({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/security_products/configurations/new`}function eD({org:e}){return`/organizations/${(0,n.j9)(e)}/settings/security_products/configurations`}},86721:(e,t,r)=>{r.d(t,{Gr:()=>a,Mf:()=>i,j9:()=>s});var n=r(86283);function a(e,t,r){let a=e(t),i=new URL(a,n.ssrSafeLocation.origin||"https://github.com");for(let[e,t]of(a===n.ssrSafeLocation.pathname&&(i.search=new URLSearchParams(n.ssrSafeLocation.search).toString()),Object.entries(r||{})))null==t?i.searchParams.delete(e):i.searchParams.set(e,t.toString());return i}function i(e,t,r){let n=a(e,t,r);return n.href.replace(n.origin,"")}function s(e){return e.split("/").map(encodeURIComponent).join("/")}},70567:(e,t,r)=>{r.d(t,{W:()=>SearchIndex,r:()=>n});var n,a=r(44544),i=r(71643);let{getItem:s,setItem:o,removeItem:c}=(0,a.Z)("localStorage",{throwQuotaErrorsOnSet:!0});!function(e){e.Branch="branch",e.Tag="tag"}(n||(n={}));let SearchIndex=class SearchIndex{render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;let e=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(e)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch(e){this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(e){if(this.emitStats(e),!e.ok){this.fetchFailed=!0;return}let t=e.clone(),r=await e.json();this.knownItems=r.refs,this.cacheKey=r.cacheKey,this.flushToLocalStorage(await t.text())}emitStats(e){if(!e.ok){(0,i.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(e.status){case 200:(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break;case 304:(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break;default:(0,i.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(e){let t;if(this.searchTerm=e,""===e){this.currentSearchResult=this.knownItems;return}let r=[],n=[];for(let a of(this.exactMatchFound=!1,this.knownItems))if(!((t=a.indexOf(e))<0)){if(0===t){e===a?(n.unshift(a),this.exactMatchFound=!0):n.push(a);continue}r.push(a)}this.currentSearchResult=[...n,...r]}bootstrapFromLocalStorage(){let e=s(this.localStorageKey);if(!e)return!1;let t=JSON.parse(e);return t.cacheKey===this.cacheKey&&"refs"in t?(this.knownItems=t.refs,this.isLoading=!1,(0,i.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0):(c(this.localStorageKey),!1)}async flushToLocalStorage(e){try{o(this.localStorageKey,e)}catch(t){if(t.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,i.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{o(this.localStorageKey,e)}catch(e){e.message.toLowerCase().includes("quota")&&(0,i.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw t}}clearSiblingLocalStorage(){for(let e of Object.keys(localStorage))e.startsWith(SearchIndex.LocalStoragePrefix)&&c(e)}clearLocalStorage(){c(this.localStorageKey)}get localStorageKey(){return`${SearchIndex.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}constructor(e,t,r,n,a){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.searchTerm="",this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=e,this.selector=t,this.refEndpoint=r,this.cacheKey=n,this.nameWithOwner=a}};SearchIndex.LocalStoragePrefix="ref-selector"},62073:(e,t,r)=>{r.d(t,{D:()=>s});var n=r(67294),a=r(78249),i=r(98224);function s(e,t,r=[]){let s=(0,n.useCallback)(e,r),o=function(){let e=(0,n.useContext)(i.kb);return e}(),c=(0,n.useRef)(o===i.i$.ClientRender),[l,u]=(0,n.useState)(()=>o===i.i$.ClientRender?s():t),h=(0,n.useCallback)(()=>{u(s)},[s]);return(0,a.g)(()=>{c.current||u(s),c.current=!1},[s,...r]),[l,h]}},79431:(e,t,r)=>{r.d(t,{H:()=>c});var n,a=r(85893),i=r(42483),s=r(67294),o=r(78720);function c({items:e,itemHeight:t,sx:r,renderItem:n,makeKey:i}){let c=(0,s.useRef)(null),h=(0,s.useCallback)(()=>t,[t]),d=(0,o.o)({parentRef:c,size:e.length,estimateSize:h});return(0,a.jsx)(l,{ref:c,sx:r,virtualizer:d,children:d.virtualItems.map(t=>(0,a.jsx)(u,{virtualRow:t,children:n(e[t.index])},i(e[t.index])))})}let l=s.forwardRef(function({children:e,sx:t,virtualizer:r},n){return(0,a.jsx)(i.Z,{ref:n,sx:t,children:(0,a.jsx)(i.Z,{sx:{height:r.totalSize,width:"100%",position:"relative"},children:e})})});function u({children:e,virtualRow:t}){return(0,a.jsx)(i.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:e})}try{c.displayName||(c.displayName="FixedSizeVirtualList")}catch{}try{(n=VirtualListContainerInner).displayName||(n.displayName="VirtualListContainerInner")}catch{}try{u.displayName||(u.displayName="ItemContainer")}catch{}},79515:(e,t,r)=>{r.d(t,{h:()=>i});var n=r(85893),a=r(42483);function i({text:e,search:t,hideOverflow:r=!1,overflowWidth:i=0}){let s=function(e,t){if(!t)return[e];let r=e.toLowerCase().split(t.toLowerCase());if(r.length<2)return[e];let n=0,a=[];for(let i of r)a.push(e.substring(n,n+i.length)),n+=i.length,a.push(e.substring(n,n+t.length)),n+=t.length;return a}(e,t),o=s.map((e,t)=>t%2==1?(0,n.jsx)("strong",{className:"color-fg-default",children:e},t):e),c=i?`${i}px`:void 0;return(0,n.jsx)(a.Z,{sx:{maxWidth:c,overflow:r?"hidden":"visible",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.length?"fg.muted":"fg.default"},children:o})}try{i.displayName||(i.displayName="HighlightedText")}catch{}},80490:(e,t,r)=>{r.d(t,{ox:()=>J,cq:()=>X,li:()=>q,Z7:()=>M});var n=r(85893),a=r(31147),i=r(78912),s=r(51461),o=r(78212),c=r(85529),l=r(52516),u=r(42483),h=r(75308),d=r(50919),f=r(51526),m=r(74121),p=r(98833),j=r(97011),g=r(67294),$=r(86283),x=r(62073),y=r(12470),b=r(73935);function w({isOpen:e,onDismiss:t,onConfirm:r}){let[a]=(0,x.D)(()=>document.body,null,[$.n4?.body]);return a?(0,b.createPortal)((0,n.jsxs)(y.Z,{isOpen:e,onDismiss:t,children:[(0,n.jsx)(y.Z.Header,{children:"Create branch"}),(0,n.jsxs)(u.Z,{sx:{p:3},children:[(0,n.jsx)(j.Z,{children:"A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?"}),(0,n.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[(0,n.jsx)(i.z,{onClick:t,children:"Cancel"}),(0,n.jsx)(i.z,{variant:"danger",onClick:r,sx:{ml:2},children:"Create"})]})]})]}),document.body):null}try{w.displayName||(w.displayName="CheckTagNameDialog")}catch{}var S=r(89445);async function C(e,t){let r=new FormData;r.set("value",t);let n=await (0,S.Q)(e,{method:"POST",body:r,headers:{Accept:"application/json"}});return!!n.ok&&!!await n.text()}async function L(e,t,r){let n=new FormData;n.set("name",t),n.set("branch",r);let a=await (0,S.Q)(e,{method:"POST",body:n,headers:{Accept:"application/json"}});if(a.ok)return{success:!0,name:(await a.json()).name};try{let{error:e}=await a.json();if(e)return{success:!1,error:e};throw Error("Unknown response from create branch API")}catch{return{success:!1,error:"Something went wrong."}}}var R=r(2708),v=r(22114);function _(e){let{hotKey:t,onOpenChange:r,size:a,currentCommitish:s,refType:o,children:l,preventClosing:h,inputRef:d,overlayOpen:f,onOverlayChange:m,focusTrapEnabled:p=!0,buttonClassName:$,allowResizing:x,useFocusZone:y}=e,b=e.idEnding?`-${e.idEnding}`:`-${Date.now()}`,w=(0,g.useRef)(`branch-picker${b}`),S=(0,g.useCallback)(e=>{m(e),r?.(e)},[r,m]),C=(0,g.useMemo)(()=>p?{initialFocusRef:d}:{initialFocusRef:d,disabled:!0},[p,d]);return(0,n.jsx)(R.w,{open:f,overlayProps:{role:"dialog",width:"medium"},onOpen:()=>S(!0),onClose:()=>!h&&S(!1),renderAnchor:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.z,{...e,"data-hotkey":t,size:a,sx:{svg:{color:"fg.muted"},display:"flex",minWidth:x?0:void 0,"> span":{width:"inherit"}},trailingIcon:c.TriangleDownIcon,"aria-label":`${s} ${o}`,"data-testid":"anchor-button",id:w.current,className:$,children:(0,n.jsxs)(u.Z,{sx:{display:"flex",width:"100%"},children:[(0,n.jsx)(u.Z,{sx:{mr:1,color:"fg.muted"},children:"tag"===o?(0,n.jsx)(c.TagIcon,{size:"small"}):(0,n.jsx)(c.GitBranchIcon,{size:"small"})}),(0,n.jsx)(u.Z,{sx:{fontSize:1,minWidth:0,maxWidth:x?void 0:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,n.jsxs)(j.Z,{sx:{minWidth:0},children:["\xa0",s]})})]})}),(0,n.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:()=>S(!0),"data-hotkey-scope":"read-only-cursor-text-area"})]}),focusTrapSettings:C,focusZoneSettings:y?{bindKeys:v.Qw.ArrowAll|v.Qw.Tab}:{disabled:!0},children:(0,n.jsx)(u.Z,{"data-testid":"overlay-content","aria-labelledby":w.current,id:"selectPanel",children:l})})}try{_.displayName||(_.displayName="RefSelectorAnchoredOverlay")}catch{}function T({text:e,onClick:t,href:r,sx:a}){let i=(0,n.jsx)(u.Z,{sx:{...a},children:e}),s={sx:{minWidth:0}};return r?(0,n.jsx)(l.S.LinkItem,{role:"link",href:r,onClick:()=>t?.(),...s,children:i}):(0,n.jsx)(l.S.Item,{role:"button",onSelect:()=>t?.(),...s,children:i})}try{T.displayName||(T.displayName="RefSelectorFooter")}catch{}var N=r(79431),I=r(63309),k=r(79515);let Z=g.memo(function({isCurrent:e,isDefault:t,href:r,gitRef:a,filterText:i,ariaPosInSet:s,ariaSetSize:o,onSelect:c,onClick:u}){let h=(0,n.jsx)(E,{gitRef:a,isDefault:t,isCurrent:e,filterText:i}),d={"aria-checked":e,"aria-posinset":s,"aria-setsize":o,sx:{minWidth:0},onSelect:()=>c?.(a),onClick:()=>u?.(a)};return r?(0,n.jsx)(l.S.LinkItem,{href:r,role:"menuitemradio",...d,children:h}):(0,n.jsx)(l.S.Item,{...d,children:h})}),E=g.memo(function({isCurrent:e,isDefault:t,gitRef:r,filterText:a,showLeadingVisual:i=!0}){return(0,n.jsxs)(u.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)(u.Z,{style:{display:"flex",minWidth:0,alignItems:"flex-end"},children:[i&&(0,n.jsx)(p.Z,{icon:c.CheckIcon,"aria-hidden":!0,sx:{pr:1,visibility:e?void 0:"hidden"}}),(0,n.jsx)(k.h,{hideOverflow:!0,search:a,text:r},r)]}),t&&(0,n.jsx)(I.Z,{children:"default"})]})});try{Z.displayName||(Z.displayName="RefItem")}catch{}try{E.displayName||(E.displayName="RefItemContent")}catch{}function O(e){return e.refs.length>20?(0,n.jsx)(z,{...e}):(0,n.jsx)(F,{...e})}function F({refs:e,defaultBranch:t,currentCommitish:r,getHref:a,filterText:i,onSelectItem:s}){return(0,n.jsx)(u.Z,{sx:{maxHeight:330,overflowY:"auto"},children:e.map(o=>(0,n.jsx)(Z,{href:a?.(o),isCurrent:r===o,isDefault:t===o,filterText:i,gitRef:o,onSelect:s,onClick:s,ariaPosInSet:e.indexOf(o)+1,ariaSetSize:e.length},o))})}function z({refs:e,defaultBranch:t,currentCommitish:r,getHref:a,filterText:i,onSelectItem:s}){return(0,n.jsx)(N.H,{items:e,itemHeight:32,sx:{maxHeight:330,overflowY:"auto"},makeKey:e=>e,renderItem:o=>(0,n.jsx)(Z,{href:a?.(o),isCurrent:r===o,isDefault:t===o,filterText:i,gitRef:o,onSelect:s,onClick:s,ariaPosInSet:e.indexOf(o)+1,ariaSetSize:e.length},o)})}try{O.displayName||(O.displayName="RefsList")}catch{}try{F.displayName||(F.displayName="FullRefsList")}catch{}try{z.displayName||(z.displayName="VirtualRefsList")}catch{}var D=r(70567);function A(e,t,r,n,a){return new D.W("branch"===n?D.r.Branch:D.r.Tag,a,(0,o.FL)({owner:t,repo:r,action:"refs"}),e,`${t}/${r}`)}function P(e,t){let r=e.fetchFailed?"failed":e.isLoading?"loading":"loaded",n=e.currentSearchResult,a=e.refType===D.r.Branch&&t&&e.searchTerm.length>0&&!e.exactMatchFound;return{status:r,refs:n,showCreateAction:a,searchIndex:e}}function K(e){let t=(0,g.useRef)();return t.current||(t.current=e()),t}function W(e){let{cacheKey:t,owner:r,repo:a,canCreate:i,types:s,hotKey:c,onOpenChange:l,size:u,getHref:h,onBeforeCreate:d,onRefTypeChanged:f,currentCommitish:m,onCreateError:p,onSelectItem:j,closeOnSelect:$,selectedRefType:x,customFooterItemProps:y,buttonClassName:b,allowResizing:S,idEnding:R,useFocusZone:v}=e,[T,N]=(0,g.useState)(""),I=(0,g.useRef)(null),k=(0,g.useRef)(null),[Z,E]=(0,g.useState)(!1),[O,F]=(0,g.useState)(!0),[z,D]=(0,g.useState)(!1),[W,H]=(0,g.useState)(x??(s??M)[0]),Y=function(e,t,r,n,a,i){let[s,o]=(0,g.useState)({status:"uninitialized",refs:[],showCreateAction:!1,searchIndex:null}),c=(0,g.useRef)({render:()=>{o(P(u.current,i))}}),l=(0,g.useRef)({render:()=>{o(P(h.current,i))}}),u=K(()=>A(e,t,r,"branch",c.current)),h=K(()=>A(e,t,r,"tag",l.current));return(0,g.useEffect)(()=>{let a=`${t}/${r}`;u.current.nameWithOwner!==a&&(u.current=A(e,t,r,"branch",c.current)),h.current.nameWithOwner!==a&&(h.current=A(e,t,r,"tag",l.current)),async function(){let e="branch"===n?u.current:h.current;e.render(),await e.fetchData(),e.search(""),e.render()}()},[e,t,r,n,u,h]),(0,g.useEffect)(()=>{let e="branch"===n?u.current:h.current;e.search(a),e.render()},[a,n,u,h]),s}(t,r,a,W,T,i),U=(0,o.FL)({owner:r,repo:a,action:"branches"}),Q=(0,o.dQ)({owner:r,repo:a}),V=(0,g.useCallback)(async()=>{d?.(T);let e=await L(U,T,m);e.success?h&&(Y.searchIndex?.clearLocalStorage(),window.location.href=h(e.name)):p?.(e.error)},[d,T,U,m,h,p,Y.searchIndex]),G=(0,g.useCallback)(async()=>{if(await C(Q,T)){D(!0),F(!1);return}D(!1),F(!1),V()},[Q,T,V,D]),X=(0,g.useCallback)(e=>{H(e),f?.(e)},[H,f]);function q(){E(!1)}let J=(0,g.useCallback)((e,t)=>{j?.(e,t),q()},[j]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_,{refType:W,currentCommitish:m,focusTrapEnabled:O,preventClosing:z,size:u,onOpenChange:l,hotKey:c,inputRef:I,overlayOpen:Z,onOverlayChange:E,buttonClassName:b,allowResizing:S,idEnding:R,useFocusZone:v,children:(0,n.jsx)(B,{filterText:T,onFilterChange:N,refType:W,selectedRefType:W,onRefTypeChange:X,refsState:Y,onCreateError:e.onCreateError,showTagWarningDialog:z,setShowTagWarningDialog:D,onCreateBranch:G,inputRef:I,createButtonRef:k,onSelectItem:J,closeOnSelect:$,closeRefSelector:q,customFooterItemProps:y,...e})}),z&&(0,n.jsx)(w,{isOpen:z,onDismiss:()=>{D(!1),k.current?.focus()},onConfirm:V})]})}function B({canCreate:e,currentCommitish:t,defaultBranch:r,filterText:a,getHref:i,hideShowAll:s,onSelectItem:o,closeOnSelect:f,closeRefSelector:m,onFilterChange:p,onRefTypeChange:j,owner:g,selectedRefType:$,refsState:x,refType:y,repo:b,types:w,onCreateBranch:S,inputRef:C,createButtonRef:L,customFooterItemProps:R,viewAllJustify:v}){var _;let{refs:N,showCreateAction:I,status:k}=x;return(0,n.jsxs)(l.S,{showDividers:!0,children:[(0,n.jsxs)(u.Z,{sx:{borderBottom:"1px solid",borderColor:"border.subtle",pb:2},children:[(0,n.jsxs)(u.Z,{sx:{display:"flex",pb:2,px:2,justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)(h.Z,{as:"h5",sx:{pl:2,fontSize:"inherit"},children:(_=w??M).includes("branch")&&_.includes("tag")?"Switch branches/tags":_.includes("branch")?"Switch branches":_.includes("tag")?"Switch tags":void 0}),(0,n.jsx)(d.h,{"aria-label":"Cancel",variant:"invisible",icon:c.XIcon,sx:{color:"fg.muted"},onClick:m})]}),(0,n.jsx)(H,{defaultText:a,refType:y,canCreate:e,onFilterChange:p,ref:C})]}),(0,n.jsxs)(u.Z,{sx:{pt:2,pb:I&&0===N.length?0:2},children:[(w??M).length>1&&(0,n.jsx)(u.Z,{sx:{px:2,pb:2},children:(0,n.jsx)(q,{refType:y,onRefTypeChanged:j,sx:{mx:-2,borderBottom:"1px solid",borderColor:"border.muted","> nav":{borderBottom:"none"}}})}),"loading"===k||"uninitialized"===k?(0,n.jsx)(U,{refType:y}):"failed"===k?(0,n.jsx)(J,{refType:y}):0!==N.length||I?(0,n.jsx)(O,{filterText:a,refs:N,defaultBranch:"branch"===y?r:"",currentCommitish:y===$?t:"",getHref:i,onSelectItem:e=>{o?.(e,y),f&&m()}}):(0,n.jsx)(Q,{})]}),I&&(0,n.jsxs)(n.Fragment,{children:[N.length>0&&(0,n.jsx)(l.S.Divider,{sx:{marginTop:0,backgroundColor:"border.subtle"}}),(0,n.jsx)(G,{currentCommitish:t,newRefName:a,onCreateBranch:S,createButtonRef:L})]}),(!s||R)&&(0,n.jsx)(l.S.Divider,{sx:{marginTop:I?2:0,backgroundColor:"border.subtle"}}),!s&&(0,n.jsx)(V,{justify:v,refType:y,owner:g,repo:b,onClick:m}),R&&(0,n.jsx)(T,{...R,onClick:function(){R?.onClick?.(),m()}})]})}let H=(0,g.forwardRef)(Y);function Y({refType:e,canCreate:t,onFilterChange:r,defaultText:a},i){return(0,n.jsx)(u.Z,{sx:{px:2},children:(0,n.jsx)(f.Z,{leadingVisual:c.SearchIcon,value:a,sx:{width:"100%"},placeholder:"tag"===e?"Find a tag...":t?"Find or create a branch...":"Find a branch...",ref:i,onInput:e=>{let t=e.target;t instanceof HTMLInputElement&&r(t.value)}})})}function U({refType:e}){return(0,n.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,n.jsx)(m.Z,{size:"medium","aria-label":`Loading ${"branch"===e?"branches":"tags"}...`})})}function Q(){return(0,n.jsx)(u.Z,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}function V({refType:e,owner:t,repo:r,onClick:a,justify:i="start"}){let s="branch"===e?"branches":"tags";return(0,n.jsx)(l.S.LinkItem,{role:"link",href:(0,o.FL)({owner:t,repo:r,action:s}),onClick:a,sx:{display:"flex",justifyContent:"center"},children:(0,n.jsxs)(u.Z,{sx:{display:"flex",justifyContent:i},children:["View all ",s]})})}function G({currentCommitish:e,newRefName:t,onCreateBranch:r,createButtonRef:a}){return(0,n.jsxs)(l.S.Item,{role:"button",onSelect:r,ref:a,children:[(0,n.jsx)(p.Z,{icon:c.GitBranchIcon,sx:{mr:2,color:"fg.muted"}}),(0,n.jsx)(j.Z,{children:"Create branch\xa0"}),(0,n.jsx)(j.Z,{sx:{fontWeight:600,fontFamily:"monospace"},children:t}),(0,n.jsx)(j.Z,{children:"\xa0from\xa0"}),(0,n.jsx)(j.Z,{sx:{fontWeight:600,fontFamily:"monospace"},children:e})]})}try{W.displayName||(W.displayName="RefSelectorV1")}catch{}try{B.displayName||(B.displayName="RefSelectorActionList")}catch{}try{H.displayName||(H.displayName="RefTextFilter")}catch{}try{Y.displayName||(Y.displayName="RefTextFilterWithRef")}catch{}try{U.displayName||(U.displayName="Loading")}catch{}try{Q.displayName||(Q.displayName="RefsZeroState")}catch{}try{V.displayName||(V.displayName="ViewAllRefsAction")}catch{}try{G.displayName||(G.displayName="CreateRefAction")}catch{}let M=["branch","tag"];function X(e){return(0,n.jsx)(W,{...e})}function q({refType:e,onRefTypeChanged:t,sx:r}){return(0,n.jsxs)(a.Z,{sx:{pl:2,...r},"aria-label":"Ref type",children:[(0,n.jsx)(a.Z.Link,{as:i.z,id:"branch-button","aria-controls":"branches",selected:"branch"===e,onClick:()=>t("branch"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Branches"}),(0,n.jsx)(a.Z.Link,{as:i.z,id:"tag-button","aria-controls":"tags",selected:"tag"===e,onClick:()=>t("tag"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Tags"})]})}function J({refType:e}){return(0,n.jsxs)(s.Z,{variant:"danger",children:["Could not load ","branch"===e?"branches":"tags"]})}try{X.displayName||(X.displayName="RefSelector")}catch{}try{q.displayName||(q.displayName="RefTypeTabs")}catch{}try{J.displayName||(J.displayName="LoadingFailed")}catch{}}}]);
//# sourceMappingURL=ui_packages_ref-selector_RefSelector_tsx-2021f97783ad.js.map